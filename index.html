<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <style>
    *,
    *::before,
    *::after {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html,
    body {
      overflow: hidden;
      background-color: #000000;
    }

    canvas {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
  </style>
</head>

<body>

  <!-- Create the canvas that the C++ code will draw into -->
  <canvas id="canvas" width="300" height="300"></canvas>

  <!-- Allow the C++ to access the canvas element -->
  <script type='text/javascript'>
    // Loading canvas
    var c = document.getElementById('canvas'),
      ctx = c.getContext('2d'),
      pi = Math.PI,
      xCenter = c.width / 2,
      yCenter = c.height / 2,
      radius = c.width / 3,
      startSize = radius / 3,
      num = 5,
      posX = [], posY = [], angle, size, i;

    window.setInterval(() => {
      num++;
      ctx.clearRect(0, 0, xCenter * 2, yCenter * 2);
      for (i = 0; i < 9; i++) {
        ctx.beginPath();
        ctx.fillStyle = 'rgba(255,255,255,' + .1 * i + ')';
        if (posX.length == i) {
          angle = pi * i * .25;
          posX[i] = xCenter + radius * Math.cos(angle);
          posY[i] = yCenter + radius * Math.sin(angle);
        }
        ctx.arc(
          posX[(i + num) % 8],
          posY[(i + num) % 8],
          startSize / 9 * i,
          0, pi * 2, 1);
        ctx.fill();
      }
    }, 100);

    Module = {
      canvas: document.getElementById('canvas')
    };
  </script>

  <!-- Add the javascript glue code (index.js) as generated by Emscripten -->
  <script src="index.js"></script>

</body>

</html>
